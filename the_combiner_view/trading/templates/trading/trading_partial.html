<div class="h-full bg-white dark:bg-gray-800 p-4 rounded-lg">
    <h2 class="text-xl font-semibold mb-4 text-gray-800 dark:text-gray-100">Trading Dashboard</h2>
    <div id="trading-status" class="text-sm text-gray-600 dark:text-gray-400"></div>
</div>

<script>
    let tradingSocket = null;

    function connectWebSocket() {
        tradingSocket = new WebSocket(
            'ws://' + window.location.host + '/ws/trading/'
        );

        tradingSocket.onmessage = function(e) {
            const data = JSON.parse(e.data);
            if (data.type === 'connection_status') {
                console.log('External server connection status:', data.is_external_connected);
                const statusElement = document.getElementById('trading-status');
                statusElement.textContent = `External server: ${data.is_external_connected ? 'Connected' : 'Disconnected'}`;
            }
        };

        tradingSocket.onclose = function(e) {
            console.log('Trading WebSocket disconnected. Reconnecting...');
            setTimeout(connectWebSocket, 1000);
        };

        tradingSocket.onerror = function(e) {
            console.error('Trading WebSocket error:', e);
        };
    }

    connectWebSocket();
</script> 